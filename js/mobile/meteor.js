var Meteor=function(t,i,e,s){this.xCentre=t,this.yCentre=i,this.type=e,this.assetsManager=s,"big"===this.type?(this.radius=48,this.mass=1e3):"medium"===this.type?(this.radius=21,this.mass=500):"tiny"===this.type?(this.radius=9,this.mass=100):console.error(this.type+" is not a valid type of a meteor!"),this.xPosition=this.xCentre-this.radius,this.yPosition=this.yCentre-this.radius,this.xVelocity=0,this.yVelocity=10,this.rotationAngle=0,this.rotationDelayCounter=0,this.initialiseRoute(),this.isExploding=!1,this.explosionTimer=0,this.isExploded=!1,this.explosionIndex=0};Meteor.prototype.initialiseRoute=function(){var t=Math.floor(5*Math.random());switch(t){case 0:this.isRotatingClockwise=!1,this.xVelocity=-2;break;case 1:this.isRotatingClockwise=!1,this.xVelocity=-5;break;case 2:this.isRotatingClockwise=!0;break;case 3:this.isRotatingClockwise=!0,this.xVelocity=2;break;case 4:this.isRotatingClockwise=!0,this.xVelocity=5;break;default:console.error(t+" is not a valid type of route of a meteor!")}this.yVelocity=Math.floor(5*Math.random())+8},Meteor.prototype.update=function(t){this.isExploded||(this.yPosition+=this.yVelocity/10,this.xPosition+=this.xVelocity/10,this.xCentre=this.xPosition+this.radius,this.yCentre=this.yPosition+this.radius,this.rotationDelayCounter+=t,this.rotationDelayCounter>25&&(this.isRotatingClockwise?this.rotationAngle+=1:this.rotationAngle-=1,this.rotationDelayCounter=0),this.isExploding&&(this.explosionTimer+=t,this.explosionTimer>50&&(this.explosionIndex++,this.explosionTimer=0),this.explosionIndex>20&&(this.isExploded=!0,this.isExploding=!1)))},Meteor.prototype.isGoingDown=function(){return this.yVelocity>0},Meteor.prototype.isGoingUp=function(){return this.yVelocity<0},Meteor.prototype.isGoingRight=function(){return this.xVelocity>0},Meteor.prototype.isGoingLeft=function(){return this.xVelocity<0},Meteor.prototype.draw=function(t){this.isExploded||this.isExploding?this.isExploding&&t.drawImage(this.assetsManager.images["explosion"+this.explosionIndex],this.xCentre-this.radius,this.yCentre-this.radius,2*this.radius,2*this.radius):"big"===this.type?this.drawRotatedImage(t,this.assetsManager.images.meteorBig,this.xCentre,this.yCentre,this.rotationAngle):"medium"===this.type?this.drawRotatedImage(t,this.assetsManager.images.meteorMedium,this.xCentre,this.yCentre,this.rotationAngle):this.drawRotatedImage(t,this.assetsManager.images.meteorTiny,this.xCentre,this.yCentre,this.rotationAngle)},Meteor.prototype.drawRotatedImage=function(t,i,e,s,o){t.save(),t.translate(e,s),t.rotate(o*Math.PI/180),t.drawImage(i,-(i.width/2),-(i.height/2)),t.restore()},Meteor.prototype.updateRotation=function(t){this.isRotatingClockwise=this.xCentre-t>0},Meteor.prototype.explode=function(){this.isExploding=!0,this.assetsManager.audios.explosion.play(),this.assetsManager.audios.explosion.currentTime=0},Meteor.prototype.isOnFire=function(){return this.isExploded||this.isExploding};